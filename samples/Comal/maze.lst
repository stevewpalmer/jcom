l:=2030
DIM s(0:70,0:70),x(l),y(l),d(l)
w:=1
r:=1
OPEN FILE 7,"18.dat",READ
REPEAT
  INPUT FILE 7:col,row
  s(col,row):=1
  i:=i+1
UNTIL i=1024
CLOSE 7
REPEAT
  col:=x(r)
  row:=y(r)
  direction:=d(r)
  r:=r+1
  IF col=70 AND row=70 THEN
    PRINT direction
    END
  ENDIF
  col:=col-1
  solve
  col:=col+2
  solve
  col:=col-1
  row:=row-1
  solve
  row:=row+2
  solve
UNTIL FALSE
PROC solve
  IF col>=0 AND col<=70 THEN
    IF row>=0 AND row<70 THEN
      IF NOT s(col,row) THEN
        s(col,row):=1
        x(w):=col
        y(w):=row
        d(w):=direction+1
        w:=w+1
      ENDIF
    ENDIF
  ENDIF
ENDPROC solve
